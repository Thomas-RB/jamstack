var e,t=require("react"),r=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,n=require("prop-types");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(a[r]=e[r]);return a}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){for(var t=this,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return l(this,e),this.tag=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,n))))},n.length>0&&Array.isArray(n[0])&&(n=n[0]),this.transformers=n.map(function(e){return"function"==typeof e?e():e}),this.tag}return s(e,[{key:"interimTag",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return this.tag(o,e.apply(void 0,[t].concat(n)))}},{key:"processSubstitutions",value:function(e,t,r){var n=this.transformSubstitution(e.shift(),t);return"".concat(t,n,r)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,r){return r.onSubstitution?r.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var g,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var r=t.match(/^[^\S\n]*(?=\S)/gm),n=r&&Math.min.apply(Math,d(r.map(function(e){return e.length})));if(n){var a=new RegExp("^.{"+n+"}","gm");return t.replace(a,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},p=function(e,t){return{onEndResult:function(r){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(e,t)}}},m=function(e,t){return{onSubstitution:function(r,n){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(e,t)}}},h={separator:"",conjunction:"",serial:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return{onSubstitution:function(t,r){if(Array.isArray(t)){var n=t.length,a=e.separator,i=e.conjunction,s=e.serial,o=r.match(/(\n?[^\S\n]+)$/);if(t=t.join(o?a+o[1]:a+" "),i&&n>1){var l=t.lastIndexOf(a);t=t.slice(0,l)+(s?a:"")+" "+i+t.slice(l+1)}}return t}}},b=function(e){return{onSubstitution:function(t,r){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},v=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},w=(new c(y({separator:","}),f,u),new c(y({separator:",",conjunction:"and"}),f,u),new c(y({separator:",",conjunction:"or"}),f,u),new c(b("\n"),function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(v):v(e)?e:""}}},y,f,u),new c(b("\n"),y,f,u,m(/&/g,"&amp;"),m(/</g,"&lt;"),m(/>/g,"&gt;"),m(/"/g,"&quot;"),m(/'/g,"&#x27;"),m(/`/g,"&#x60;")),new c(p(/(?:\n(?:\s*))+/g," "),u),new c(p(/(?:\n\s*)/g,""),u),new c(y({separator:","}),p(/(?:\s+)/g," "),u),new c(y({separator:",",conjunction:"or"}),p(/(?:\s+)/g," "),u),new c(y({separator:",",conjunction:"and"}),p(/(?:\s+)/g," "),u),new c(y,f,u),new c(y,p(/(?:\s+)/g," "),u),new c(f,u),new c(f("all"),u),new Set,function(e){var t=e.src,n=e.srcSet,a=e.loading,s=e.alt,o=void 0===s?"":s,l=e.shouldLoad,c=e.innerRef,u=i(e,["src","srcSet","loading","alt","shouldLoad","innerRef"]);return r.createElement("img",Object.assign({},u,{decoding:"async",loading:a,src:l?t:void 0,"data-src":l?void 0:t,srcSet:l?n:void 0,"data-srcset":l?void 0:n,alt:o,ref:c}))}),S=t.forwardRef(function(e,t){var n=e.fallback,a=e.sources,s=void 0===a?[]:a,o=e.shouldLoad,l=void 0===o||o,c=i(e,["fallback","sources","shouldLoad"]),u=r.createElement(w,Object.assign({},c,n,{shouldLoad:l,innerRef:t}));return s.length?r.createElement("picture",null,s.map(function(e){var t=e.media,n=e.srcSet,a=e.type;return r.createElement("source",{key:t+"-"+a+"-"+n,type:a,media:t,srcSet:n})}),u):u});w.propTypes={src:n.string.isRequired,alt:n.string.isRequired,sizes:n.string,srcSet:n.string,shouldLoad:n.bool},S.displayName="Picture",S.propTypes={alt:n.string.isRequired,shouldLoad:n.bool,fallback:n.exact({src:n.string.isRequired,srcSet:n.string,sizes:n.string}),sources:n.arrayOf(n.oneOfType([n.exact({media:n.string.isRequired,type:n.string,sizes:n.string,srcSet:n.string.isRequired}),n.exact({media:n.string,type:n.string.isRequired,sizes:n.string,srcSet:n.string.isRequired})]))};var E=function(e){var t=e.fallback,n=i(e,["fallback"]);return t?r.createElement(S,Object.assign({},n,{fallback:{src:t},"aria-hidden":!0,alt:""})):r.createElement("div",Object.assign({},n))};E.displayName="Placeholder",E.propTypes={fallback:n.string,sources:null==(g=S.propTypes)?void 0:g.sources,alt:function(e,t,r){return e[t]?new Error("Invalid prop `"+t+"` supplied to `"+r+"`. Validation failed."):null}};var k=t.forwardRef(function(e,t){var n=a({},e);return r.createElement(r.Fragment,null,"eager"===n.loading&&r.createElement("link",{rel:"preload",as:"image",href:n.fallback.src,imagesrcset:n.fallback.srcSet,imagesizes:n.fallback.sizes}),r.createElement(S,Object.assign({ref:t},n)),r.createElement("noscript",null,r.createElement(S,Object.assign({},n,{shouldLoad:!0}))))});k.displayName="MainImage",k.propTypes=S.propTypes;var j=function(){return r.createElement("script",{type:"module",dangerouslySetInnerHTML:{__html:'const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t)e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset")),e.complete&&(e.style.opacity=1)}'}})},A=function(e){var n=e.layout,a=e.width,i=e.height,s=e.children,o=null;return"fluid"===n&&(o=r.createElement("div",{"aria-hidden":!0,style:{paddingTop:i/a*100+"%"}})),"constrained"===n&&(o=r.createElement("div",{style:{maxWidth:a,display:"block"}},r.createElement("img",{alt:"",role:"presentation","aria-hidden":"true",src:"data:image/svg+xml;charset=utf-8,%3Csvg height='"+i+"' width='"+a+"' xmlns='http://www.w3.org/2000/svg' version='1.1'%3E%3C/svg%3E",style:{maxWidth:"100%",display:"block",position:"static"}}))),r.createElement(t.Fragment,null,o,s,r.createElement(j,null))},O=function(e){return e.replace(/\n/g,"")},R=function(e){var t=e.as,n=void 0===t?"div":t,a=e.children,s=i(e,["as","children"]);return r.createElement(n,Object.assign({},s),a)};function T(){"development"===process.env.NODE_ENV&&console.warn('gatsby-plugin-image/compat does not support passing arrays to "fixed" or "fluid"')}var x,C=(x=function(e){var t=e.as,n=e.className,s=e.class,o=e.style,l=e.image,c=e.loading,u=void 0===c?"lazy":c,d=e.imgClassName,g=e.imgStyle,f=e.backgroundColor,p=e.objectFit,m=e.objectPosition,h=i(e,["as","className","class","style","image","loading","imgClassName","imgStyle","backgroundColor","objectFit","objectPosition"]);if(!l)return console.warn("[gatsby-plugin-image] Missing image prop"),null;s&&(n=s),g=a({objectFit:p,objectPosition:m,backgroundColor:f},g);var y=l.width,b=l.height,v=l.layout,w=l.images,S=l.placeholder,j=l.backgroundColor,T=function(e,t,r){var n={position:"relative",overflow:"hidden"};return"fixed"===r?(n.width=e,n.height=t):"constrained"===r&&(n.display="inline-block"),{className:"gatsby-image-wrapper","data-gatsby-image-wrapper":"",style:n}}(y,b,v),x=T.style,C=T.className,N=i(T,["style","className"]),q={fallback:void 0,sources:[]};return w.fallback&&(q.fallback=a({},w.fallback,{srcSet:w.fallback.srcSet?O(w.fallback.srcSet):void 0})),w.sources&&(q.sources=w.sources.map(function(e){return a({},e,{srcSet:O(e.srcSet)})})),r.createElement(R,Object.assign({},N,{as:t,style:a({},x,o,{backgroundColor:f}),className:C+(n?" "+n:"")}),r.createElement(A,{layout:v,width:y,height:b},r.createElement(E,Object.assign({},function(e,t,r,n,i,s){var o={};s&&(o.backgroundColor=s,"fixed"===r?(o.width=n,o.height=i,o.backgroundColor=s,o.position="relative"):("constrained"===r||"fluid"===r)&&(o.position="absolute",o.top=0,o.left=0,o.bottom=0,o.right=0));var l=a({},e,{"aria-hidden":!0,"data-placeholder-image":"",style:a({opacity:1,transition:"opacity 500ms linear"},o)});return global.GATSBY___IMAGE||(l.style={height:"100%",left:0,position:"absolute",top:0,width:"100%"}),l}(S,0,v,y,b,j))),r.createElement(k,Object.assign({"data-gatsby-image-ssr":"",className:d,style:g},h,function(e,t,r,n,i,s,o,l){return void 0===l&&(l={}),global.GATSBY___IMAGE||(l=a({height:"100%",left:0,position:"absolute",top:0,transform:"translateZ(0)",transition:"opacity 250ms linear",width:"100%",willChange:"opacity"},l)),a({},r,{loading:n,shouldLoad:e,"data-main-image":"",style:a({},l,{opacity:0}),onLoad:function(e){var t=e.currentTarget,r=new Image;r.src=t.currentSrc,r.decode?r.decode().catch(function(){}).then(function(){(void 0)(!0)}):(void 0)(!0)},ref:void 0})}("eager"===u,0,q,u)))))},function(e){var t=e.fixed,n=e.fluid,s=e.backgroundColor,o=e.critical,l=e.Tag,c=i(e,["fixed","fluid","backgroundColor","critical","Tag"]),u=a({alt:"",as:l,image:void 0},c);if(s&&(u.style=u.style||{},u.style.backgroundColor=!0===s?"light-gray":s),o&&(u.loading="eager"),t){Array.isArray(t)&&(T(),t=t[0]);var d={placeholder:void 0,layout:"fixed",width:t.width,height:t.height,images:{fallback:{src:t.src,srcSet:t.srcSet},sources:[]}},g=t.tracedSVG||t.base64;g&&(d.placeholder={fallback:g}),t.srcSetWebp&&d.images.sources.push({srcSet:t.srcSetWebp,type:"image/webp"}),u.image=d}else if(n){Array.isArray(n)&&(T(),n=n[0]);var f={width:1,height:n.aspectRatio,layout:"fluid",images:{fallback:{src:n.src,srcSet:n.srcSet,sizes:n.sizes},sources:[]}},p=n.tracedSVG||n.base64;p&&(f.placeholder={fallback:p}),n.srcSetWebp&&f.images.sources.push({srcSet:n.srcSetWebp,type:"image/webp",sizes:n.sizes}),u.image=f}return r.createElement(x,Object.assign({},c,u))});exports.GatsbyImage=C;
//# sourceMappingURL=gatsby-image.compat.js.map
