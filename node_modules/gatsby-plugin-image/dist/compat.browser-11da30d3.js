import e,{useRef as t,useState as r,useEffect as n}from"react";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){for(var t=this,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return u(this,e),this.tag=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,n))))},n.length>0&&Array.isArray(n[0])&&(n=n[0]),this.transformers=n.map(function(e){return"function"==typeof e?e():e}),this.tag}return i(e,[{key:"interimTag",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return this.tag(s,e.apply(void 0,[t].concat(n)))}},{key:"processSubstitutions",value:function(e,t,r){var n=this.transformSubstitution(e.shift(),t);return"".concat(t,n,r)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,r){return r.onSubstitution?r.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var r=t.match(/^[^\S\n]*(?=\S)/gm),n=r&&Math.min.apply(Math,f(r.map(function(e){return e.length})));if(n){var a=new RegExp("^.{"+n+"}","gm");return t.replace(a,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},d=function(e,t){return{onEndResult:function(r){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(e,t)}}},p=function(e,t){return{onSubstitution:function(r,n){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(e,t)}}},m={separator:"",conjunction:"",serial:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return{onSubstitution:function(t,r){if(Array.isArray(t)){var n=t.length,a=e.separator,o=e.conjunction,i=e.serial,s=r.match(/(\n?[^\S\n]+)$/);if(t=t.join(s?a+s[1]:a+" "),o&&n>1){var u=t.lastIndexOf(a);t=t.slice(0,u)+(i?a:"")+" "+o+t.slice(u+1)}}return t}}},h=function(e){return{onSubstitution:function(t,r){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},b=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e};new c(y({separator:","}),g,l),new c(y({separator:",",conjunction:"and"}),g,l),new c(y({separator:",",conjunction:"or"}),g,l),new c(h("\n"),function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(b):b(e)?e:""}}},y,g,l),new c(h("\n"),y,g,l,p(/&/g,"&amp;"),p(/</g,"&lt;"),p(/>/g,"&gt;"),p(/"/g,"&quot;"),p(/'/g,"&#x27;"),p(/`/g,"&#x60;")),new c(d(/(?:\n(?:\s*))+/g," "),l),new c(d(/(?:\n\s*)/g,""),l),new c(y({separator:","}),d(/(?:\s+)/g," "),l),new c(y({separator:",",conjunction:"or"}),d(/(?:\s+)/g," "),l),new c(y({separator:",",conjunction:"and"}),d(/(?:\s+)/g," "),l),new c(y,g,l),new c(y,d(/(?:\s+)/g," "),l),new c(g,l),new c(g("all"),l);const w=new Set,v=()=>"undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;function S(e){e&&w.add(e)}function E(e){return w.has(e)}function A(e,t,r,n,o,i,s,u={}){return global.GATSBY___IMAGE||(u=a({height:"100%",left:0,position:"absolute",top:0,transform:"translateZ(0)",transition:"opacity 250ms linear",width:"100%",willChange:"opacity"},u)),a({},r,{loading:n,shouldLoad:e,"data-main-image":"",style:a({},u,{opacity:t?1:0}),onLoad:function(e){if(t)return;S(i);const r=e.currentTarget,n=new Image;n.src=r.currentSrc,n.decode?n.decode().catch(()=>{}).then(()=>{o(!0)}):o(!0)},ref:s})}function k(e,t,r,n,o,i){const s={};i&&(s.backgroundColor=i,"fixed"===r?(s.width=n,s.height=o,s.backgroundColor=i,s.position="relative"):("constrained"===r||"fluid"===r)&&(s.position="absolute",s.top=0,s.left=0,s.bottom=0,s.right=0));const u=a({},e,{"aria-hidden":!0,"data-placeholder-image":"",style:a({opacity:t?0:1,transition:"opacity 500ms linear"},s)});return global.GATSBY___IMAGE||(u.style={height:"100%",left:0,position:"absolute",top:0,width:"100%"}),u}let j=!1;const O=function(i){let{as:s="div",style:u,className:c,class:l,onStartLoad:f,image:g,onLoad:d,backgroundColor:p}=i,m=o(i,["as","style","className","class","onStartLoad","image","onLoad","backgroundColor"]);if(!g)return"development"===process.env.NODE_ENV&&console.warn("[gatsby-plugin-image] Missing image prop"),null;l&&(c=l);const{width:y,height:h,layout:b,images:w}=g,E=t(),A=t(!1),k=t(null),O=t(null),_=t(),[N,L]=r(v()),[T,C]=r(!1);global.GATSBY___IMAGE||j||(j=!0,console.warn('[gatsby-plugin-image] You\'re missing out on some cool performance features. Please add "gatsby-plugin-image" to your gatsby-config.js'));const x=function(e,t,r){const n={position:"relative",overflow:"hidden"};return"fixed"===r?(n.width=e,n.height=t):"constrained"===r&&(n.display="inline-block"),{className:"gatsby-image-wrapper","data-gatsby-image-wrapper":"",style:n}}(y,h,b),{style:G,className:I}=x,R=o(x,["style","className"]);return n(()=>{if(E.current){const e=E.current.querySelector("[data-gatsby-image-ssr]");if(v()&&e&&global.GATSBY___IMAGE)return null==f||f({wasCached:!1}),e.complete&&(null==d||d(),S(JSON.stringify(w))),void e.addEventListener("load",function t(){e.removeEventListener("load",t),null==d||d(),S(JSON.stringify(w))});import("./intersection-observer-8aa685fa.js").then(({createIntersectionObserver:e})=>{const t=e(()=>{E.current&&(null==f||f({wasCached:!1}),L(!0))});E.current&&(k.current=t(E))})}return()=>{k.current&&(k.current(E),A.current&&O.current&&O.current())}},[]),n(()=>{if(E.current){const e=E.current.querySelector("[data-gatsby-image-ssr]");if(v()&&e&&!A.current)return void(A.current=!0);e||(A.current=!0),import("./lazy-hydrate-b7e4806a.js").then(({lazyHydrate:e})=>{O.current=e(a({image:g,isLoading:N,isLoaded:T,toggleIsLoaded:()=>{null==d||d(),C(!0)},ref:_},m),E,A)})}},[y,h,b,w,N,T,C,_,m]),e.createElement(s,Object.assign({},R,{style:a({},G,u,{backgroundColor:p}),className:`${I}${c?" "+c:""}`,ref:E,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0}))},_=function(t){return e.createElement(O,Object.assign({},t))};function N(){"development"===process.env.NODE_ENV&&console.warn('gatsby-plugin-image/compat does not support passing arrays to "fixed" or "fluid"')}function L(t){return function(r){let{fixed:n,fluid:i,backgroundColor:s,critical:u,Tag:c}=r,l=o(r,["fixed","fluid","backgroundColor","critical","Tag"]);const f=a({alt:"",as:c,image:void 0},l);if(s&&(f.style=f.style||{},f.style.backgroundColor=!0===s?"light-gray":s),u&&(f.loading="eager"),n){Array.isArray(n)&&(N(),n=n[0]);const e={placeholder:void 0,layout:"fixed",width:n.width,height:n.height,images:{fallback:{src:n.src,srcSet:n.srcSet},sources:[]}},t=n.tracedSVG||n.base64;t&&(e.placeholder={fallback:t}),n.srcSetWebp&&e.images.sources.push({srcSet:n.srcSetWebp,type:"image/webp"}),f.image=e}else if(i){Array.isArray(i)&&(N(),i=i[0]);const e={width:1,height:i.aspectRatio,layout:"fluid",images:{fallback:{src:i.src,srcSet:i.srcSet,sizes:i.sizes},sources:[]}},t=i.tracedSVG||i.base64;t&&(e.placeholder={fallback:t}),i.srcSetWebp&&e.images.sources.push({srcSet:i.srcSetWebp,type:"image/webp",sizes:i.sizes}),f.image=e}return e.createElement(t,Object.assign({},l,f))}}_.displayName="GatsbyImage";const T=L(_);export{T as G,L as _,o as a,a as b,E as c,A as d,k as g,v as h};
//# sourceMappingURL=compat.browser-11da30d3.js.map
